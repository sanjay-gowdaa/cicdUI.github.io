name: vikasbandhu-test cicd trail.
on:
  push:
    branches:
      - mytrails
jobs:

#   BUILD:
#     name: BUILD
#     runs-on: ubuntu-latest

#     steps:

#         - name: checkout code from vikasbandhu-ui github repo üõéÔ∏è
#           uses: actions/checkout@v3

#         - name: setup Nodejs v14 environment on github hosted runner
#           uses: actions/setup-node@v3

#           with:
#               node-version: 14

#         - name: Install dependencies üîß 
#           run: |
#             node -v
#             npx yarn install

#         - name: Build application üõéÔ∏è
#           run: npm run build:dev 
#           env:
#               CI: false

#         - name: Upload Artifacts
#           uses: actions/upload-artifact@v3
#           with:
#             name: vb-test-buildFile
#             path: build/

  # BUILD_APPLICATION:
  #   needs: SETUP_ENVIRONMENT
  #   name: Build vikasbandhu-test application on specified platform.
  #   runs-on: ubuntu-latest  
  #   steps:
  #       - name: Install dependencies üîß 
  #         run: |
  #           node -v
  #           npx yarn install
  #       - name: Build application üõéÔ∏è
  #         run: npm run build:dev 
  #         env:
  #             CI: false
  #       - name: Upload Artifacts
  #         uses: actions/upload-artifact@v3
  #         with:
  #           name: vb-test-buildFile
  #           path: build/
    
  TEST:
#     needs: BUILD
    name: TEST
    runs-on: ubuntu-latest 

    steps:

        - name: Checkout private tools
          uses: actions/checkout@v3
          with:
            repository: sanjay-gowdaa/justCICD1
            # respository: VikasBandhu/VB_GUI_SL_Automation
            token: ${{ secrets.GH_PATH }} # `GH_PAT` is a secret that contains your PAT
            path: chromeDriver
            ref: chromeDriver

        - name: setup Nodejs v14 environment on github hosted runner
          uses: actions/setup-node@v3
          with:
              node-version: 16

        - name: run testsuite
          run: |
            ls
            npm i
#             cd testsuite
#             node testCase005.js Test Firefox Headless
#             cd batch
#             chmod 755 ./VBbatch.sh
#             ./VBbatch.sh

#   DEPLOY:

#     name: DEPLOY TO S3.
#     needs: [BUILD , TEST]
#     runs-on: ubuntu-latest    

#     steps:

#         - name: Download a single artifact
#           uses: actions/download-artifact@v3
#           with:
#             name: vb-test-buildFile
#             path: build 
#         - name: jst
#           run: |
#               # cd ..
#               ls


#         - name: Deploy to S3
#           uses: jakejarvis/s3-sync-action@master
#           with:
#             args: --acl public-read --delete

        

       #   env:
        #    AWS_S3_BUCKET: ${{ secrets.AWS_PRODUCTION_BUCKET_NAME }}
         #   AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
          #  AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
           # AWS_REGION: ${{ secrets.AWS_REGION }}
            # SOURCE_DIR: "build"

